# useInput

This composable manage input-related state and behaviors such as focus, filled state, and modifiers.
The composable can be combined with the component [fitx-input](?path=/docs/components-form-input--docs).

## Usage

### Import and Initialize

```ts
import { ref } from 'vue';
import { type SharedInputProps, useInput } from '@fitx/customer-components';

// Example Props and Model Value
// const props: SharedInputProps = {
const props = {
  label: 'Example Label',
  theme: 'dark',
  id: 'example-input',
  disabled: false,
  errorMessage: '',
  modifier: 'disabled',
  fakeModifier: 'focus',
};

const model = ref('');

const {
  slots,
  modelValue,
  wrapperEl,
  focused,
  isDisabled,
  isFilled,
  isActive,
  hasIconStart,
  hasIconEnd,
  componentClasses,
} = useInput(props, model);

```

### Properties and Methods

#### Options
- **@props** `SharedInputProps`: Object containing the following properties:
  - **theme** `Theme`: Optional theme for the input.
  - **label** `string`: Label for the input.
  - **id** `string`: The unique ID for the input element.
  - **disabled** `boolean`: Optional If true, disables the input.
  - **errorMessage** `string`: Optional Error message to display.
  - **modifier** `SharedInputModifier`: Optional Modifier for the input (currently only 'disabled' is supported).
  - **fakeModifier** `'none' | 'hover' | 'focus'`: Only for dev mode presentation in Storybook.
- **modelValue** `Ref<ModelValue>`: Reactive reference for the input's value.

#### Return Values
- **slots**: Provides access to the slots in the component.
- **modelValue**: Reactive reference containing the input's value.
- **wrapperEl**: Reference to the wrapper element of the input.
- **focused**: Boolean indicating whether the input is focused.
- **isDisabled**: Computed property indicating whether the input is disabled.
- **isFilled**: Computed property indicating whether the input is filled.
- **isActive**: Computed property indicating whether the input is active.
- **hasIconStart**: Computed property indicating whether an icon is present at the start of the input.
- **hasIconEnd**: Computed property indicating whether an icon is present at the end of the input.
- **componentClasses**: Computed property returning the classes to be applied to the input component.

### Example
Hereâ€™s a full example of how to use the useInput composable in a Vue component:

```html
<!-- some-component.vue -->
<script lang="ts" setup>
import { type InputProps, useInput } from '@fitx/customer-components';

const props = withDefaults(defineProps<InputProps>(), {
  type: 'text',
  id: () => crypto.randomUUID(),
});

defineSlots<{
  'icon-start'?: () => any;
  'icon-end'?: () => any;
}>();

const modelValue = defineModel<string | number>({ default: '' });

const {
  wrapperEl,
  isDisabled,
  componentClasses,
} = useInput<string | number>(props, modelValue);

</script>

<template>
  <div
    ref="wrapperEl"
    :data-theme="props.theme"
    :class="componentClasses">
    <div class="input__ui">
      <label
        class="input__label"
        :for="props.id">{{ props.label }}</label>
      <input
        class="input__input"
        placeholder=""
        :readonly="isDisabled || !!$attrs.readonly"
        :disabled="props.disabled"
        :id="props.id"
        :type="type"
        v-model="modelValue"
      />
      <span class="input__icon input__icon--start">
        <slot name="icon-start"></slot>
      </span>
      <span class="input__icon input__icon--end">
        <slot name="icon-end"></slot>
      </span>
    </div>
  </div>
</template>

<style>
.input {
  /* base styles for input */
}

.input--is-filled {
  /* styles for filled state */
}

.input--is-active {
  /* styles for active state */
}

.input--disabled {
  /* styles for disabled state */
}

.input--has-error {
  /* styles for error state */
}
</style>
```
